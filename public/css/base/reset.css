/* Base Reset & Body */
html {
    height: 100%;
    background-color: var(--bg-canvas);
    /* Ensure background extends to safe areas */
}

body {
    font-family: var(--app-font);
    background-color: var(--bg-canvas);
    /* Rice paper texture */
    background-image: var(--texture-paper);
    color: var(--text-primary);
    margin: 0;
    padding: 0;
    width: 100%;
    /* CRITICAL: Ensure full width for child centering */
    display: flex;
    flex-direction: column;
    align-items: center;
    height: 100vh;
    height: 100dvh;
    /* Fixed height for viewport - enables game-stage scrolling */
    overflow: hidden;
    /* Prevent body scroll, let game-stage handle it */
    user-select: none;
    -webkit-user-select: none;
    touch-action: manipulation;
}

* {
    box-sizing: border-box;
    -webkit-tap-highlight-color: transparent;
}

/* Custom Scrollbar Styling */

/* Desktop: Show styled scrollbar */
@media (hover: hover) and (pointer: fine) {
    /* --- Webkit Browsers (Chrome, Safari, Edge) --- */
    ::-webkit-scrollbar {
        width: 8px;
    }

    ::-webkit-scrollbar-track {
        background: transparent;
        margin: 4px 0;
    }

    ::-webkit-scrollbar-thumb {
        background-color: #A93226;
        /* Deep Red */
        border-radius: 10px;
        border: 2px solid var(--tang-paper, #F9F7F2);
    }

    ::-webkit-scrollbar-thumb:hover {
        background-color: #D4AF37;
        /* Gold */
    }

    /* --- Firefox Support --- */
    * {
        scrollbar-width: thin;
        scrollbar-color: #A93226 transparent;
    }
}

/* Mobile: Hide scrollbar but keep scroll functionality */
@media (hover: none) and (pointer: coarse) {
    /* Webkit browsers (iOS Safari, Android Chrome) */
    *::-webkit-scrollbar {
        display: none;
        width: 0;
        height: 0;
    }

    /* Firefox */
    * {
        scrollbar-width: none;
    }

    /* IE and Edge Legacy */
    * {
        -ms-overflow-style: none;
    }

    /* Prevent double-tap zoom on buttons and interactive elements */
    button, a, input, select, textarea {
        touch-action: manipulation;
    }
}

/* Reduced Motion Support - Accessibility */
@media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}