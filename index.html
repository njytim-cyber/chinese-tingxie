<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ÂøÉÁªáÁ¨îËÄï - Ê±âÂ≠óÂê¨ÂÜô</title>
    <meta name="description" content="Master Chinese characters through dictation and writing.">
    <meta name="version" content="1.21.20">

    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#FAFAF6">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Starry Sky">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icons/icon-192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/icon-192.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/icon-192.png">



    <!-- Font: KaiTi enforced via styles.css system fonts -->


    <!-- CSS is now imported via main.ts using Vite's native CSS import -->
    <!-- HanziLookup for handwriting recognition -->
    <script src="https://cdn.jsdelivr.net/gh/gugray/HanziLookupJS@master/dist/hanzilookup.min.js"></script>
</head>

<body>

    <!-- Header -->
    <header class="dashboard-header" id="main-header">
        <div class="header-left">
            <button id="header-back-btn" class="header-back-btn" aria-label="ËøîÂõû">‚ùÆ</button>
            <div id="player-avatar" class="player-avatar" title="Change Avatar"></div>
        </div>
        <h1 class="app-title" id="app-title">ÂøÉÁªáÁ¨îËÄï</h1>
        <div id="header-stats" class="header-stats">
            <!-- Populated by JS -->
            <span class="stat-pill">üî• 0</span>
            <span class="stat-pill">‚≠ê 0</span>
        </div>
    </header>

    <!-- DASHBOARD / START SCREEN -->
    <div id="start-overlay" role="main">
        <!-- Background Stars (CSS Animation) -->
        <div class="starry-bg">
            <div class="stars-1"></div>
            <div class="stars-2"></div>
            <div class="stars-3"></div>
        </div>


        <p class="version-tag-bottom">v1.21.21</p>
    </div>

    <!-- Tab Bar Footer (Persistent) -->
    <nav class="tab-bar">
        <button class="tab-item active" id="start-btn">
            <span class="tab-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
                    <path d="M4 13V15C4 17.5 5 19 7 19M20 13V15C20 18 18 19.5 16 20" />
                    <path d="M4 13C4 8 7 3 12 3C17 3 20 8 20 13" stroke-width="2.5" />
                    <path d="M19 14H21M3 14H5" stroke-width="3" />
                </svg>
            </span>
            <span class="tab-label">Âê¨ÂÜô</span>
        </button>
        <button class="tab-item" id="dictation-btn">
            <span class="tab-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
                    <path d="M16.5 3.5L8 14" stroke-width="2.5" />
                    <path d="M6 16L8.5 13.5" stroke-width="3" />
                    <path d="M6 16C5 17.5 3 21 3 21C3 21 7 20 9 18" />
                </svg>
            </span>
            <span class="tab-label">ÈªòÂÜô</span>
        </button>
        <button class="tab-item" id="review-btn">
            <span class="tab-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round">
                    <path d="M4 4V20M20 4V20" />
                    <path d="M4 12H20" opacity="0.5" />
                    <rect x="6" y="7" width="4" height="3" rx="1.5" stroke-width="2" />
                    <rect x="6" y="14" width="4" height="3" rx="1.5" stroke-width="2" />
                    <rect x="14" y="6" width="4" height="3" rx="1.5" stroke-width="2" />
                    <rect x="14" y="15" width="4" height="3" rx="1.5" stroke-width="2" />
                </svg>
            </span>
            <span class="tab-label">ËøõÂ∫¶</span>
        </button>
    </nav>



    <canvas id="particle-canvas"></canvas>

    <header class="hud hud-minimal" style="display: none;" role="banner">
        <div class="hud-inner">
            <button class="menu-btn" id="menu-btn" title="ËøîÂõû" aria-label="ËøîÂõû‰∏ä‰∏ÄÈ°µ">‚ùÆ</button>

            <!-- Score only on right -->
            <div class="hud-right">
                <div class="score-box" role="status" aria-live="polite" aria-label="ÂΩìÂâçÂàÜÊï∞">
                    <span aria-hidden="true">‚≠ê</span> <span id="score">0</span>
                </div>

                <!-- Streak Badge (hidden by default) -->
                <div class="streak-badge" id="streak-badge" style="display: none;" role="status" aria-live="polite">
                    üî• x<span id="streak-count">0</span>
                </div>
            </div>
        </div>
    </header>


    <div class="game-stage">
        <!-- Game content will be rendered here dynamically -->
    </div>

    <script type="module" src="/src/main.ts"></script>

    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('SW registered:', registration.scope);
                    })
                    .catch(error => {
                        console.log('SW registration failed:', error);
                    });
            });
        }
    </script>
    <!-- Reveal Modal -->
    <div id="reveal-modal" class="reveal-modal" style="display: none;">
        <div class="reveal-modal-content">
            <div id="reveal-term" class="reveal-term"></div>
            <div id="reveal-pinyin" class="reveal-pinyin"></div>
            <div class="reveal-hint">ÁÇπÂáª‰ªªÊÑè‰ΩçÁΩÆÂÖ≥Èó≠</div>
        </div>
    </div>
    <div id="footer-progress" class="footer-progress"></div>
</body>

</html>